<!DOCTYPE html>
<html lang="en">

<head>
    <title>LifeMirror 3.0</title>
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://unpkg.com/feather-icons"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@500&display=swap"
        rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
    <script src="/vendor/auth0-spa-js.production.js"></script>
</head>

<body>
    <nav class="sidebar">
        <div class="sidebar-logo">
            <i data-feather="feather"></i>
        </div>

        <ul class="sidebar-menu" id="sidebar-menu">
            <li class="menu-item" data-page="index.html" title="Dashboard"><i data-feather="grid"></i></li>
            <li class="menu-item" data-page="tasks.html" title="Tasks"><i data-feather="check-square"></i></li>
            <li class="menu-item" data-page="finance.html" title="Finance"><i data-feather="credit-card"></i></li>
            <li class="menu-item" data-page="fitness.html" title="Fitness"><i data-feather="heart"></i></li>
            <li class="menu-item" data-page="mood.html" title="Mood"><i data-feather="smile"></i></li>
            <li class="menu-item" data-page="vault.html" title="Vault"><i data-feather="lock"></i></li>
            <li class="menu-item" data-page="insights.html" title="Insights"><i data-feather="bar-chart-2"></i></li>
        </ul>

        <div class="sidebar-footer">
            <li class="menu-item" data-page="settings.html" title="Settings"><i data-feather="settings"></i></li>
        </div>
    </nav>

    <main class="main-content">

        <header class="top-bar">
            <div class="date-time"><span id="current-time">00:01</span><span>Sunday, 26 October 2025</span></div>
            <div class="global-controls">
                <div class="control-icon-wrapper"><i data-feather="bell"></i></div><img
                    src="https://i.pravatar.cc/40?u=kuber" alt="Profile" class="profile-pic">
            </div>
        </header>

        <div id="global-notification-panel"></div>

        <div id="notification-panel"
            style="display: none; padding: 15px; border-radius: 12px; background: #fff8e1; border: 1px solid #ffecb3; color: #ff9800; font-weight: 500; margin-bottom: 20px; align-items: center;">
            <i data-feather="bell" style="width: 18px; height: 18px; margin-right: 8px;"></i>
            <span id="notification-message"></span>
        </div>

        <section class="dashboard-grid" id="dashboard-grid">

            <div class="card life-score">
                <div class="card-header">
                    <h3>Life Score</h3>
                    <span class="card-metric" id="life-score-number">82</span>
                </div>
                <div class="life-score-content">
                    <div class="chart-container">
                        <canvas id="life-score-radar-chart"></canvas>
                    </div>
                    <ul class="score-weights">
                        <li id="score-tasks">Tasks (25%)</li>
                        <li id="score-finance">Financial Health (20%)</li>
                        <li id="score-fitness">Fitness (20%)</li>
                        <li id="score-mood">Mood/Stress (20%)</li>
                        <li id="score-digital">Digital Org (15%)</li>
                    </ul>
                </div>
            </div>

            <div class="card ai-remedies">
                <h3>Actions for Today</h3>
                <ul class="remedy-list" id="dashboard-actions-list">
                </ul>
            </div>

            <div class="card tasks-schedule">
                <h3>Today's Schedule</h3>
                <ul class="task-list" id="task-list-container">
                </ul>
            </div>

            <div class="card kpi-card">
                <div class="card-header">
                    <h3>Mood Snapshot</h3><i data-feather="smile"></i>
                </div>
                <p class="kpi-value" id="kpi-mood-value">Neutral</p>
                <p class="kpi-label" id="kpi-stress-index">Stress Index: 45%</p>
                <p class="kpi-label" id="kpi-mood-note"
                    style="font-size: 14px; margin-top: 10px; color: var(--c-text-muted); font-style: italic; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                    Daily check-in placeholder.</p>
            </div>

            <div class="card kpi-card">
                <div class="card-header">
                    <h3>Health Today</h3><i data-feather="heart"></i>
                </div>
                <p class="kpi-value" id="kpi-steps-value"></p>
                <p class="kpi-label" id="kpi-calories-value-label">Calories Burned: 300</p>
                <p class="kpi-label" id="kpi-sleep-value-label">Last Sleep: 5.5 hr</p>
                <p class="kpi-label" id="kpi-water-value-label">Water Intake: 0 ml</p>
            </div>

            <div class="card kpi-card">
                <div class="card-header">
                    <h3>Finance Health</h3><i data-feather="credit-card"></i>
                </div>
                <p class="kpi-value" id="kpi-finance-value">‚Çπ0</p>
                <p class="kpi-label" id="kpi-finance-health-percent">Health: 25%</p>
                <p class="kpi-label" id="kpi-finance-subs-monthly">Subscriptions: ‚Çπ3,500 / mo</p>
            </div>

            <div class="card kpi-card digital-assets">
                <div class="card-header">
                    <h3>Social Hub</h3><i data-feather="lock"></i>
                </div>
                <p class="kpi-value" id="kpi-vault-links">5 Links</p>
                <p class="kpi-label" id="kpi-vault-categories">4 Categories</p>
            </div>

        </section>
    </main>
    <div class="modal-overlay" id="add-bill-modal" style="display: none;">
        <div class="modal-dialog" data-mode="add" id="bill-modal-dialog">
            <h3 id="bill-modal-title">Add New Bill or Subscription</h3>

            <input type="hidden" id="bill-id-input">

            <div class="modal-form-group">
                <label for="bill-name-input">Bill Name (e.g., Spotify)</label>
                <input type="text" id="bill-name-input" placeholder="e.g., Netflix Subscription">
            </div>

            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="bill-amount-input">Amount (‚Çπ)</label>
                    <input type="number" id="bill-amount-input" value="500" min="10">
                </div>
                <div class="modal-form-group">
                    <label for="bill-due-date-input">Next Due Date</label>
                    <input type="date" id="bill-due-date-input">
                </div>
            </div>

            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="bill-frequency-select">Repayment Frequency</label>
                    <select id="bill-frequency-select">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="annually">Annually</option>
                        <option value="one-time">One-Time</option>
                    </select>
                </div>
                <div class="modal-form-group">
                    <label for="bill-link-input">Payment Link (Optional)</label>
                    <input type="url" id="bill-link-input" placeholder="e.g., https://netflix.com/payment">
                </div>
            </div>


            <div class="modal-actions">
                <button class="modal-button delete" id="bill-modal-delete-button" style="display: none;">
                    Delete Bill
                </button>
                <div style="margin-left: auto; display: flex; gap: 12px;">
                    <button class="modal-button secondary" id="bill-modal-cancel-button">Cancel</button>
                    <button class="modal-button" id="bill-modal-action-button">Add Bill</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="delete-confirm-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 400px; text-align: center;">
            <h3 style="color: var(--c-accent-red); margin-bottom: 8px;"><i data-feather="alert-triangle"
                    style="width: 24px; height: 24px;"></i> Confirm Deletion</h3>
            <p id="delete-confirm-message" style="margin-bottom: 24px; color: var(--c-text-dark);">Are you sure you want
                to delete this bill? This action cannot be undone.</p>
            <div class="modal-actions" style="justify-content: space-between; margin-top: 0;">
                <button class="modal-button secondary" id="delete-cancel-button">Cancel</button>
                <button class="modal-button delete" id="delete-confirm-button">Delete Permanently</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="log-activity-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 450px;">
            <h3>Add New Activity Entry</h3>

            <div class="modal-form-group">
                <label for="activity-type-select">Activity Type</label>
                <select id="activity-type-select">
                    <option value="steps">Steps</option>
                    <option value="workout">Workout (Minutes)</option>
                    <option value="sleep">Sleep (Hours)</option>
                    <option value="calories_out">Calories Burned (Estimated)</option>
                </select>
            </div>

            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="activity-value-input" id="activity-value-label">Value</label>
                    <input type="number" id="activity-value-input" placeholder="e.g., 5000" min="1">
                </div>
                <div class="modal-form-group">
                    <label for="activity-unit-label">Unit</label>
                    <input type="text" id="activity-unit-label" value="steps" disabled>
                </div>
            </div>

            <div class="modal-actions">
                <button class="modal-button secondary" id="activity-modal-cancel-button">Cancel</button>
                <button class="modal-button" id="activity-modal-log-button">Log Data</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="log-water-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 400px;">
            <h3>Log Water Intake</h3>

            <div class="modal-form-group">
                <label>Quick Log Options (ml)</label>
                <div id="water-quick-select"
                    style="display: flex; gap: 10px; justify-content: center; margin-top: 8px;">
                    <button class="modal-button secondary water-option" data-volume="250">250 ml</button>
                    <button class="modal-button secondary water-option" data-volume="500">500 ml</button>
                    <button class="modal-button secondary water-option" data-volume="750">750 ml</button>
                </div>
            </div>

            <div class="modal-form-group">
                <label for="water-custom-input" style="margin-top: 15px;">Or Enter Custom Volume (ml)</label>
                <input type="number" id="water-custom-input" placeholder="e.g., 600" min="1">
            </div>

            <div class="modal-actions">
                <button class="modal-button secondary" id="water-modal-cancel-button">Cancel</button>
                <button class="modal-button" id="water-modal-log-button" disabled>Log Intake</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="add-mood-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 450px;">
            <h3>Log Your Mood Entry</h3>
            <div class="modal-form-group" style="text-align: center;">
                <label for="mood-select">How do you feel right now?</label>
                <div id="mood-selector"
                    style="display: flex; justify-content: space-around; font-size: 32px; margin-top: 10px;">
                    <span data-mood="awful" title="Awful" style="cursor: pointer;">üòû</span>
                    <span data-mood="sad" title="Sad" style="cursor: pointer;">üôÅ</span>
                    <span data-mood="neutral" title="Neutral" style="cursor: pointer;">üòê</span>
                    <span data-mood="happy" title="Happy" style="cursor: pointer;">üôÇ</span>
                    <span data-mood="great" title="Great" style="cursor: pointer;">üòÑ</span>
                </div>
                <input type="hidden" id="current-mood-value">
            </div>
            <p id="selected-mood-label"
                style="text-align: center; font-weight: 600; color: var(--c-primary); margin-top: 15px;">Neutral</p>

            <div class="modal-form-group">
                <label for="mood-notes-input">Quick Note (Optional)</label>
                <input type="text" id="mood-notes-input" placeholder="e.g., Stressed about project deadline.">
            </div>

            <div class="modal-actions">
                <button class="modal-button secondary" id="mood-modal-cancel-button">Cancel</button>
                <button class="modal-button" id="mood-modal-add-button">Log Entry</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="delete-data-confirm-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 400px; text-align: center;">
            <h3 style="color: var(--c-accent-red); margin-bottom: 8px;"><i data-feather="alert-triangle"
                    style="width: 24px; height: 24px;"></i> Confirm Data Destruction</h3>
            <p style="margin-bottom: 24px; color: var(--c-text-dark);">This will erase **ALL** your tasks, bills, mood
                history, and links. This cannot be undone.</p>
            <div class="modal-actions" style="justify-content: space-between; margin-top: 0;">
                <button class="modal-button secondary" id="delete-data-cancel-button">Cancel</button>
                <button class="modal-button delete" id="delete-data-confirm-button">Erase Data</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="add-task-modal" style="display: none;">
        <div class="modal-dialog">
            <h3>Add New Task</h3>
            <div class="modal-form-group">
                <label for="task-text-input">What do you need to do?</label>
                <input type="text" id="task-text-input" placeholder="e.g., Finalize project report">
            </div>
            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="task-priority-select">Priority</label>
                    <select id="task-priority-select">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
                <div class="modal-form-group">
                    <label for="task-date-input">Date</label>
                    <input type="date" id="task-date-input">
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-button secondary" id="modal-cancel-button">Cancel</button>
                <button class="modal-button" id="modal-add-button">Add Task</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="day-tasks-modal" style="display: none;">
        <div class="modal-dialog">
            <h3 id="day-tasks-title">Tasks for October 26</h3>
            <ul class="task-list" id="day-tasks-list">
            </ul>
            <div class="modal-actions">
                <button class="modal-button" id="day-tasks-close-button">Close</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="delete-task-confirm-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 400px; text-align: center;">
            <h3 style="color: var(--c-accent-red); margin-bottom: 8px;"><i data-feather="alert-triangle"
                    style="width: 24px; height: 24px;"></i> Confirm Deletion</h3>
            <p id="delete-task-confirm-message" style="margin-bottom: 24px; color: var(--c-text-dark);">Are you sure you
                want to delete this task?</p>
            <div class="modal-actions" style="justify-content: space-between; margin-top: 0;">
                <button class="modal-button secondary" id="delete-task-cancel-button">Cancel</button>
                <button class="modal-button delete" id="delete-task-confirm-button">Delete Permanently</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="edit-task-modal" style="display: none;">
        <div class="modal-dialog">
            <h3 id="edit-modal-title">Edit Task</h3>
            <input type="hidden" id="edit-task-id-input">
            <div class="modal-form-group">
                <label for="edit-task-text-input">Description</label>
                <input type="text" id="edit-task-text-input" placeholder="e.g., Finalize project report">
            </div>
            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="edit-task-priority-select">Priority</label>
                    <select id="edit-task-priority-select">
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
                <div class="modal-form-group">
                    <label for="edit-task-date-input">Date</label>
                    <input type="date" id="edit-task-date-input">
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-button delete" id="edit-modal-delete-button">Delete Task</button>
                <div style="margin-left: auto; display: flex; gap: 12px;">
                    <button class="modal-button secondary" id="edit-modal-cancel-button">Cancel</button>
                    <button class="modal-button" id="edit-modal-save-button">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="asset-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 450px;">
            <h3 id="asset-modal-title">Add New Asset Link</h3>
            <input type="hidden" id="asset-id-input">

            <div class="modal-form-group">
                <label for="asset-name-input">Asset Name / Description</label>
                <input type="text" id="asset-name-input"
                    placeholder="e.g., Passport renewal portal, Investment dashboard">
            </div>

            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="asset-type-select">Category</label>
                    <select id="asset-type-select">
                        <option value="Social">Social</option>
                        <option value="Video">Video/Creative</option>
                        <option value="Messaging">Messaging</option>
                        <option value="Dev">Dev/Work</option>
                        <option value="Document">Document/ID (Future)</option>
                        <option value="Finance">Finance/Bill</option>
                    </select>
                </div>
                <div class="modal-form-group">
                    <label for="asset-icon-select">Icon Hint</label>
                    <select id="asset-icon-select">
                        <option value="instagram">Instagram</option>
                        <option value="file-text">Document/File</option>
                        <option value="youtube">YouTube</option>
                        <option value="message-square">WhatsApp/Chat</option>
                        <option value="github">GitHub</option>
                        <option value="slack">Slack</option>
                        <option value="link">General Link</option>
                    </select>
                </div>
            </div>

            <div class="modal-form-group">
                <label for="asset-url-input">Direct URL</label>
                <input type="url" id="asset-url-input" placeholder="e.g., https://instagram.com/kuberbassi">
            </div>

            <input type="hidden" id="asset-value-input" value="N/A" readonly>

            <div id="security-status" style="display: none;"></div>

            <div class="modal-actions">
                <button class="modal-button delete" id="asset-modal-delete-button" style="display: none;">
                    Delete Link
                </button>
                <div style="margin-left: auto; display: flex; gap: 12px;">
                    <button class="modal-button secondary" id="asset-modal-cancel-button">Cancel</button>
                    <button class="modal-button" id="asset-modal-action-button">Add Link</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="delete-asset-confirm-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 400px; text-align: center;">
            <h3 style="color: var(--c-accent-red); margin-bottom: 8px;"><i data-feather="alert-triangle"
                    style="width: 24px; height: 24px;"></i> Confirm Deletion</h3>
            <p id="delete-asset-confirm-message" style="margin-bottom: 24px; color: var(--c-text-dark);">Are you sure
                you want to delete this link?</p>
            <div class="modal-actions" style="justify-content: space-between; margin-top: 0;">
                <button class="modal-button secondary" id="delete-asset-cancel-button">Cancel</button>
                <button class="modal-button delete" id="delete-asset-confirm-button">Delete Permanently</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="task-scheduler-modal" style="display: none;">
        <div class="modal-dialog" style="max-width: 450px;">
            <h3 id="task-scheduler-title">Schedule Focus for YouTube Channel</h3>

            <div class="modal-form-group">
                <label for="task-scheduler-text-input">Task Description</label>
                <input type="text" id="task-scheduler-text-input" placeholder="e.g., Code for Feature X (60 min)">
            </div>

            <div class="modal-form-row">
                <div class="modal-form-group">
                    <label for="task-scheduler-duration-input">Estimated Duration (Minutes)</label>
                    <input type="number" id="task-scheduler-duration-input" value="60" min="10">
                </div>
                <div class="modal-form-group">
                    <label for="task-date-input">Date (Defaults to Today)</label>
                    <input type="date" value="2025-10-26" disabled>
                </div>
            </div>

            <div class="modal-actions">
                <button class="modal-button secondary" id="task-scheduler-cancel-button">Cancel Launch</button>
                <button class="modal-button" id="task-scheduler-add-button">Log Task & Launch</button>
            </div>
        </div>
    </div>
    </main>
    <script>feather.replace()</script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
    <script src="/vendor/auth0-spa-js.production.js"></script>
    <script src="/js/script.js"></script>
</body>

</html>
